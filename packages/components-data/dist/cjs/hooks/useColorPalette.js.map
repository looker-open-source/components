{"version":3,"file":"useColorPalette.js","names":["_find","_interopRequireDefault","require","_swr","_visualizationsAdapters","_utils","_useSDK","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","iterator","isArray","n","_regeneratorRuntime","prototype","hasOwnProperty","c","asyncIterator","u","toStringTag","define","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","_next","_throw","isDiscretePalette","palette","isContinuousPalette","normalizePalette","undefined","_palette$stops","colors","stops","map","color","DEFAULT_SERIES_COLORS","useColorPalette","colorApplication","_ref","collection_id","palette_id","custom","sdk","useSDK","fetcher","_ref2","_callee","_callee$","_context","color_collection","_useSWR","useSWR","revalidateOnFocus","data","isValidating","_ref3","ok","_ref3$value","_ref3$value$categoric","categoricalPalettes","_ref3$value$diverging","divergingPalettes","_ref3$value$sequentia","sequentialPalettes","allPalettes","concat","paletteConfig","find","id","colorPalette","isOK","isErrorResponse","isPending","getErrorResponse","exports"],"sources":["../../../src/hooks/useColorPalette.ts"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport type {\n  IError,\n  IColorCollection,\n  IContinuousPalette,\n  IDiscretePalette,\n} from '@looker/sdk';\nimport type { SDKResponse } from '@looker/sdk-rtl';\nimport find from 'lodash/find';\nimport useSWR from 'swr';\nimport { DEFAULT_SERIES_COLORS } from '@looker/visualizations-adapters';\nimport type { ColorApplication } from '@looker/visualizations-adapters';\nimport { getErrorResponse, isErrorResponse } from '../utils';\nimport { useSDK } from './useSDK';\n\ntype RunQueryReturnType = SDKResponse<IColorCollection, IError>;\n\nconst isDiscretePalette = (\n  palette: IDiscretePalette | IContinuousPalette\n): palette is IDiscretePalette => {\n  return 'colors' in palette;\n};\n\nconst isContinuousPalette = (\n  palette: IDiscretePalette | IContinuousPalette\n): palette is IContinuousPalette => {\n  return 'stops' in palette;\n};\n\n/**\n * normalizePalette extracts an array of hex codes from discrete and continuous\n * palette configuration. Sets default values when palette is undefined.\n * @param palette IDiscretePalette | IContinuousPalette\n * @returns an array of hex codes\n */\nconst normalizePalette = (\n  palette: IDiscretePalette | IContinuousPalette = {}\n): IDiscretePalette => {\n  if (isDiscretePalette(palette)) {\n    return palette;\n  } else if (isContinuousPalette(palette)) {\n    return {\n      colors: palette.stops?.map((stop, i) =>\n        stop.color\n          ? stop.color\n          : DEFAULT_SERIES_COLORS[i % DEFAULT_SERIES_COLORS.length]\n      ),\n    };\n  } else {\n    return { colors: DEFAULT_SERIES_COLORS };\n  }\n};\n\n/**\n * useColorPalette fetches color collection based on vis config metadata\n * @param colorApplication is represented by the color_application field in vis config\n * @returns an array of hex codes\n */\n\nexport const useColorPalette = (colorApplication?: ColorApplication) => {\n  const { collection_id, palette_id, custom } = colorApplication || {};\n\n  const sdk = useSDK();\n\n  /*\n   * Dispatch network request\n   * -----------------------------------------------------------\n   */\n\n  const fetcher = async () => {\n    if (collection_id) {\n      return (await sdk.color_collection(\n        collection_id\n      )) as unknown as Promise<RunQueryReturnType>;\n    }\n\n    return undefined;\n  };\n\n  const { data, isValidating } = useSWR<void | RunQueryReturnType>(\n    collection_id,\n    fetcher,\n    { revalidateOnFocus: false }\n  );\n\n  const {\n    value: {\n      categoricalPalettes = [],\n      divergingPalettes = [],\n      sequentialPalettes = [],\n    },\n  } = data?.ok === true ? data : { value: {} };\n\n  const allPalettes = [\n    ...categoricalPalettes,\n    ...divergingPalettes,\n    ...sequentialPalettes,\n    custom,\n  ];\n\n  const paletteConfig = find(allPalettes, { id: palette_id ?? custom?.id });\n\n  const colorPalette = normalizePalette(paletteConfig).colors;\n\n  return {\n    colorPalette,\n    isOK: !(colorApplication && isErrorResponse(data)) || !!colorPalette,\n    isPending: isValidating,\n    ...getErrorResponse(data),\n  };\n};\n"],"mappings":"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","ignoreList":[]}