{"version":3,"file":"useFieldGroups.js","names":["_useExplore2","require","_excluded","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","n","indexOf","propertyIsEnumerable","hasOwnProperty","groupFields","fields","reduce","acc","dimension","view","useFieldGroups","id","_useExplore","useExplore","explore","rest","_ref","fieldGroups","dimensions","exports"],"sources":["../../../src/hooks/useFieldGroups.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type {\n  ILookmlModelExplore,\n  ILookmlModelExploreField,\n} from '@looker/sdk';\nimport { useExplore } from './useExplore';\n\ntype FieldGroups = {\n  [group: string]: ILookmlModelExploreField[];\n};\n\n// Group the fields by view name, for easier browsing\nconst groupFields = (fields: ILookmlModelExploreField[] | undefined) => {\n  if (!fields) return {};\n  return fields.reduce((acc: FieldGroups, dimension) => {\n    const { view } = dimension;\n    if (!view) return acc;\n    if (!acc[view]) {\n      acc[view] = [];\n    }\n    acc[view].push(dimension);\n    return acc;\n  }, {});\n};\n\n/**\n * A shared hook for fetching the Field Groups associated with query ID.\n * Used for rendering filter options.\n *\n * @param id query id\n * @returns field groups and api state\n */\n\nexport const useFieldGroups = (id: string) => {\n  const { explore, ...rest } = useExplore(id);\n  const { fields } = explore || ({} as ILookmlModelExplore);\n\n  const fieldGroups = fields?.dimensions ? groupFields(fields?.dimensions) : {};\n\n  return {\n    fieldGroups,\n    ...rest,\n  };\n};\n"],"mappings":"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","ignoreList":[]}