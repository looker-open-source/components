"use strict";(globalThis.webpackChunk_looker_storybook=globalThis.webpackChunk_looker_storybook||[]).push([[5578],{"../../node_modules/use-debounce/esm/useDebounce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useDebounce});var react=__webpack_require__("../../node_modules/react/index.js");function valueEquality(left,right){return left===right}function adjustFunctionValueOfSetState(value){return"function"==typeof value?function(){return value}:value}function useDebounce(value,delay,options){var eq=options&&options.equalityFn||valueEquality,_a=function useStateIgnoreCallback(initialState){var _a=(0,react.useState)(adjustFunctionValueOfSetState(initialState)),state=_a[0],setState=_a[1];return[state,(0,react.useCallback)((function(value){return setState(adjustFunctionValueOfSetState(value))}),[])]}(value),state=_a[0],dispatch=_a[1],debounced=function useDebouncedCallback(func,wait,options){var _this=this,lastCallTime=(0,react.useRef)(null),lastInvokeTime=(0,react.useRef)(0),timerId=(0,react.useRef)(null),lastArgs=(0,react.useRef)([]),lastThis=(0,react.useRef)(),result=(0,react.useRef)(),funcRef=(0,react.useRef)(func),mounted=(0,react.useRef)(!0);funcRef.current=func;var useRAF=!wait&&0!==wait&&"undefined"!=typeof window;if("function"!=typeof func)throw new TypeError("Expected a function");wait=+wait||0;var leading=!!(options=options||{}).leading,trailing=!("trailing"in options)||!!options.trailing,maxing="maxWait"in options,maxWait=maxing?Math.max(+options.maxWait||0,wait):null,invokeFunc=(0,react.useCallback)((function(time){var args=lastArgs.current,thisArg=lastThis.current;return lastArgs.current=lastThis.current=null,lastInvokeTime.current=time,result.current=funcRef.current.apply(thisArg,args)}),[]),startTimer=(0,react.useCallback)((function(pendingFunc,wait){useRAF&&cancelAnimationFrame(timerId.current),timerId.current=useRAF?requestAnimationFrame(pendingFunc):setTimeout(pendingFunc,wait)}),[useRAF]),shouldInvoke=(0,react.useCallback)((function(time){if(!mounted.current)return!1;var timeSinceLastCall=time-lastCallTime.current,timeSinceLastInvoke=time-lastInvokeTime.current;return!lastCallTime.current||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}),[maxWait,maxing,wait]),trailingEdge=(0,react.useCallback)((function(time){return timerId.current=null,trailing&&lastArgs.current?invokeFunc(time):(lastArgs.current=lastThis.current=null,result.current)}),[invokeFunc,trailing]),timerExpired=(0,react.useCallback)((function(){var time=Date.now();if(shouldInvoke(time))return trailingEdge(time);if(mounted.current){var timeSinceLastCall=time-lastCallTime.current,timeSinceLastInvoke=time-lastInvokeTime.current,timeWaiting=wait-timeSinceLastCall,remainingWait=maxing?Math.min(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting;startTimer(timerExpired,remainingWait)}}),[maxWait,maxing,shouldInvoke,startTimer,trailingEdge,wait]),cancel=(0,react.useCallback)((function(){timerId.current&&(useRAF?cancelAnimationFrame(timerId.current):clearTimeout(timerId.current)),lastInvokeTime.current=0,lastArgs.current=lastCallTime.current=lastThis.current=timerId.current=null}),[useRAF]),flush=(0,react.useCallback)((function(){return timerId.current?trailingEdge(Date.now()):result.current}),[trailingEdge]);(0,react.useEffect)((function(){return mounted.current=!0,function(){mounted.current=!1}}),[]);var debounced=(0,react.useCallback)((function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var time=Date.now(),isInvoking=shouldInvoke(time);if(lastArgs.current=args,lastThis.current=_this,lastCallTime.current=time,isInvoking){if(!timerId.current&&mounted.current)return lastInvokeTime.current=lastCallTime.current,startTimer(timerExpired,wait),leading?invokeFunc(lastCallTime.current):result.current;if(maxing)return startTimer(timerExpired,wait),invokeFunc(lastCallTime.current)}return timerId.current||startTimer(timerExpired,wait),result.current}),[invokeFunc,leading,maxing,shouldInvoke,startTimer,timerExpired,wait]),pending=(0,react.useCallback)((function(){return!!timerId.current}),[]);return(0,react.useMemo)((function(){return{callback:debounced,cancel,flush,pending}}),[debounced,cancel,flush,pending])}((0,react.useCallback)((function(value){return dispatch(value)}),[dispatch]),delay,options),previousValue=(0,react.useRef)(value);return(0,react.useEffect)((function(){eq(previousValue.current,value)||(debounced.callback(value),previousValue.current=value)}),[value,debounced,eq]),[state,{cancel:debounced.cancel,pending:debounced.pending,flush:debounced.flush}]}},"../filter-components/src/Filter/components/AdvancedFilter/components/StringFilter/StringFilter.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StringFilter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/StringFilter/StringFilter.tsx");const Basic=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StringFilter__WEBPACK_IMPORTED_MODULE_1__.V,args)).bind({});Basic.args={filterType:"string",item:{id:"1",type:"blank",is:!1},showAdd:!1,showName:!0,showRemove:!1,showOperator:!1,showMatchesAdvanced:!1};const __WEBPACK_DEFAULT_EXPORT__={title:"Filters / String Filter",component:_StringFilter__WEBPACK_IMPORTED_MODULE_1__.V};Basic.parameters={storySource:{source:"(args) => (\n  <StringFilter {...args} />\n)"},...Basic.parameters};const __namedExportsOrder=["Basic"]},"../filter-components/src/Filter/components/AdvancedFilter/components/ItemLayout/ItemLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>ItemLayout});var Box2=__webpack_require__("../components/src/Layout/Box2/index.ts"),react=__webpack_require__("../../node_modules/react/index.js"),IconButton=__webpack_require__("../components/src/Button/IconButton.tsx"),Add_esm=__webpack_require__("../../node_modules/@styled-icons/material/Add/Add.esm.js"),Close_esm=__webpack_require__("../../node_modules/@styled-icons/material/Close/Close.esm.js"),useTranslation=__webpack_require__("../filter-components/src/utils/useTranslation.ts");const AddRemoveButtons=({onAdd,onRemove,showAdd,showRemove})=>{const{t}=(0,useTranslation.$)("AddRemoveButtons");return react.createElement(react.Fragment,null,showRemove&&react.createElement(IconButton.h,{icon:react.createElement(Close_esm.x,null),size:"small",ml:"xsmall",label:t("Remove"),outline:!1,onClick:onRemove,style:{marginTop:"2px"}}),showAdd&&react.createElement(IconButton.h,{icon:react.createElement(Add_esm.m,null),size:"small",ml:"xsmall",label:t("Add"),outline:!1,onClick:onAdd,style:{marginTop:"2px"}}))};try{AddRemoveButtons.displayName="AddRemoveButtons",AddRemoveButtons.__docgenInfo={description:"",displayName:"AddRemoveButtons",props:{onAdd:{defaultValue:null,description:"",name:"onAdd",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},showAdd:{defaultValue:null,description:"",name:"showAdd",required:!0,type:{name:"boolean"}},showRemove:{defaultValue:null,description:"",name:"showRemove",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/AddRemoveButtons/AddRemoveButtons.tsx#AddRemoveButtons"]={docgenInfo:AddRemoveButtons.__docgenInfo,name:"AddRemoveButtons",path:"../filter-components/src/Filter/components/AdvancedFilter/components/AddRemoveButtons/AddRemoveButtons.tsx#AddRemoveButtons"})}catch(__react_docgen_typescript_loader_error){}var Span=__webpack_require__("../components/src/Text/Span/Span.tsx");const OperatorLabel=({value})=>{const{t}=(0,useTranslation.$)("OperatorLabel");return react.createElement(Span.D,{color:"text1",fontSize:"small"},t(value?"OR":"AND"))};try{OperatorLabel.displayName="OperatorLabel",OperatorLabel.__docgenInfo={description:"",displayName:"OperatorLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/OperatorLabel/OperatorLabel.tsx#OperatorLabel"]={docgenInfo:OperatorLabel.__docgenInfo,name:"OperatorLabel",path:"../filter-components/src/Filter/components/AdvancedFilter/components/OperatorLabel/OperatorLabel.tsx#OperatorLabel"})}catch(__react_docgen_typescript_loader_error){}const ItemLayout=({children,item,onAdd,onRemove,showOperator,showAdd,showRemove})=>react.createElement(Box2.T,{role:"group",display:"flex",alignItems:"center"},showOperator&&react.createElement(Box2.T,{width:44,mr:"medium",textAlign:"right"},!0===showOperator&&react.createElement(OperatorLabel,{value:item.is})),children,react.createElement(AddRemoveButtons,{showAdd,showRemove,onAdd:()=>onAdd(item),onRemove:()=>onRemove(item.id)}));try{ItemLayout.displayName="ItemLayout",ItemLayout.__docgenInfo={description:"Handles the layout of an AdvancedFilter item",displayName:"ItemLayout",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"FilterModel<string>"}},showAdd:{defaultValue:null,description:"",name:"showAdd",required:!0,type:{name:"boolean"}},showName:{defaultValue:null,description:"",name:"showName",required:!0,type:{name:"boolean"}},showRemove:{defaultValue:null,description:"",name:"showRemove",required:!0,type:{name:"boolean"}},showOperator:{defaultValue:null,description:"true = render with text\nfalse = don't render\n'spacer' = render as empty space",name:"showOperator",required:!0,type:{name:'boolean | "spacer"'}},onAdd:{defaultValue:null,description:"",name:"onAdd",required:!0,type:{name:"(item: FilterModel<string>, keepValue?: boolean | undefined) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(id: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/ItemLayout/ItemLayout.tsx#ItemLayout"]={docgenInfo:ItemLayout.__docgenInfo,name:"ItemLayout",path:"../filter-components/src/Filter/components/AdvancedFilter/components/ItemLayout/ItemLayout.tsx#ItemLayout"})}catch(__react_docgen_typescript_loader_error){}},"../filter-components/src/Filter/utils/option_utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dz:()=>createEnumeration,JD:()=>createOptions,MN:()=>filterOptions});__webpack_require__("../../node_modules/core-js/modules/esnext.async-iterator.map.js"),__webpack_require__("../../node_modules/core-js/modules/esnext.iterator.map.js"),__webpack_require__("../../node_modules/core-js/modules/esnext.async-iterator.filter.js"),__webpack_require__("../../node_modules/core-js/modules/esnext.iterator.constructor.js"),__webpack_require__("../../node_modules/core-js/modules/esnext.iterator.filter.js");var _looker_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../components/src/index.ts");const createOptions=values=>{if(!values)return[];return(Array.isArray(values)?values:[values]).map((value=>(value=>({value,label:value}))(value)))},createEnumeration=(isParameter=!1)=>e=>({label:e.label,value:isParameter?unescapeParameterValue(e.value):String(e.value)}),unescapeParameterValue=value=>String(value).replace(/^\^([-])/,"$1").replace(/\^([_%,"'])/g,"$1"),filterOptions=(options,filterTerm,excludedValues)=>excludedValues||filterTerm&&""!==filterTerm?options.filter((option=>filterOption(option,filterTerm||"",excludedValues))):options,filterOption=(option,filterTerm,excludedValues)=>{let matchesFilter=!0;if(""!==filterTerm){const filterText=filterTerm.trim().toLowerCase();matchesFilter=(0,_looker_components__WEBPACK_IMPORTED_MODULE_5__.getComboboxText)(option).trim().toLowerCase().indexOf(filterText)>-1}return excludedValues?matchesFilter&&!excludedValues.includes(option.value):matchesFilter}}}]);