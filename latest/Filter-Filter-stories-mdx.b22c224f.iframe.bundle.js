(globalThis.webpackChunk_looker_storybook=globalThis.webpackChunk_looker_storybook||[]).push([[9348],{"../../node_modules/lodash/compact.js":module=>{module.exports=function compact(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}},"../filter-components/src/Filter/Filter.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@mdx-js/react/dist/esm.js"),_looker_filter_components__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../node_modules/@storybook/addon-docs/dist/esm/index.js"),__webpack_require__("../filter-components/src/Filter/Filter.tsx"));function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const makeShortcode=name=>function MDXDefaultShortcode(props){return console.warn("Component "+name+" was not imported, exported, or provided by MDXProvider as global scope"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("div",props)},Meta=makeShortcode("Meta"),ImportMessage=makeShortcode("ImportMessage"),layoutProps={};function MDXContent({components,...props}){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(Meta,{component:_looker_filter_components__WEBPACK_IMPORTED_MODULE_3__.w,title:"Docs/Components/Filters/Filter",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h1",{id:"filter"},"Filter"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(ImportMessage,{packageName:"filter-components",mdxType:"ImportMessage"},"Filter"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"Filter")," is the top level component for rendering a\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"https://docs.looker.com/reference/filter-expressions",target:"_blank",rel:"nofollow noopener noreferrer"},"Looker filter expression"),"\nthat the user can update."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("strong",{parentName:"p"},"Note:")," for more out-of-the-box render of a dashboard filter, including label,\nsuggestion fetching, and validation messaging, see the\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("a",{parentName:"p",href:"dashboard-filter"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"a"},"DashboardFilter"))," component."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",{id:"expressiontype"},"expressionType"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"Filter")," relies on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"expressionType")," to properly parse and render the expression.\nIt can eithe rtake the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"expressionType")," prop directly or derive it from filter\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"type")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"field")," returned by the Looker API."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},'<SpaceVertical>\n  <Filter name="Age" expressionType="number" expression="[0,100]" />\n  <Filter\n    name="Age"\n    type="field_filter"\n    field={{ is_numeric: true }}\n    expression="[0,100]"\n  />\n</SpaceVertical>\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",{id:"expression--onchange"},"expression & onChange"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"onChange")," to get updates to the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"expression"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},';() => {\n  const [expression, setExpression] = useState(\'[0,100]\')\n  const handleChange = (value) => {\n    setExpression(value.expression)\n  }\n  return (\n    <Space>\n      <Filter\n        name="Age"\n        expressionType="number"\n        expression={expression}\n        onChange={handleChange}\n      />\n      <Paragraph>\n        <strong>Current filter expression:</strong> {expression}\n      </Paragraph>\n    </Space>\n  )\n}\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"Alternatively, the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"useExpressionState")," offers a shortcut."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},';() => {\n  const stateProps = useExpressionState({ expression: \'[0,100]\' })\n  return (\n    <Space>\n      <Filter name="Age" expressionType="number" {...stateProps} />\n      <Paragraph>\n        <strong>Current filter expression:</strong> {stateProps.expression}\n      </Paragraph>\n    </Space>\n  )\n}\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",{id:"suggestions"},"Suggestions"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"Filter")," supports suggestions for string expression types."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},"<Filter\n  name=\"Status\"\n  expressionType=\"string\"\n  expression=\"pending\"\n  suggestions={['complete', 'pending', 'cancelled']}\n/>\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,"The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"useSuggestable")," hook will fetch and format suggestions when passed an\ninitialized Looker SDK instance."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"static",static:!0},'const FilterItem = ({ filter, sdk }) => {\n  const { errorMessage, suggestableProps } = useSuggestable({\n    filter,\n    sdk,\n  })\n\n  return (\n    <Filter\n      name="Status"\n      expressionType="string"\n      expression="pending"\n      {...suggestableProps}\n    />\n  )\n}\n')),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("h2",{id:"config"},"Config"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"Filter")," supports the various permutations of UI ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"config")," options that are returned in the\nLooker API via the filter's ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("inlineCode",{parentName:"p"},"ui_config")," property."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)("code",{parentName:"pre",className:"language-jsx"},'<SpaceVertical>\n  <Heading as="h3">String</Heading>\n  <Space align="start">\n    <SpaceVertical>\n      <Heading as="h5">button_group</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending,complete"\n        config={{ type: \'button_group\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n    <SpaceVertical>\n      <Heading as="h5">button_toggles</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending"\n        config={{ type: \'button_toggles\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n  </Space>\n  <Space>\n    <SpaceVertical>\n      <Heading as="h5">taglist</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending,complete"\n        config={{ type: \'taglist\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n    <SpaceVertical>\n      <Heading as="h5">dropdown_menu</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending"\n        config={{ type: \'dropdown_menu\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n  </Space>\n  <Space>\n    <SpaceVertical>\n      <Heading as="h5">checkboxes</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending,complete"\n        config={{ type: \'checkboxes\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n    <SpaceVertical>\n      <Heading as="h5">radio_buttons</Heading>\n      <Filter\n        name="Status"\n        expressionType="string"\n        expression="pending"\n        config={{ type: \'radio_buttons\' }}\n        suggestions={[\'complete\', \'pending\', \'cancelled\']}\n      />\n    </SpaceVertical>\n  </Space>\n  <Divider />\n  <Heading as="h3">Date</Heading>\n  <Space>\n    <SpaceVertical>\n      <Heading as="h5">relative_timeframes</Heading>\n      <Filter\n        name="Date"\n        expressionType="date"\n        expression="7 day"\n        config={{ type: \'relative_timeframes\' }}\n      />\n    </SpaceVertical>\n    <SpaceVertical>\n      <Heading as="h5">day_picker</Heading>\n      <Filter\n        name="Date"\n        expressionType="date"\n        expression="2021/06/29"\n        config={{ type: \'day_picker\' }}\n      />\n    </SpaceVertical>\n  </Space>\n  <SpaceVertical>\n    <Heading as="h5">day_range_picker</Heading>\n    <Filter\n      name="Date"\n      expressionType="date"\n      expression="2021/06/01 to 2021/06/30"\n      config={{ type: \'day_range_picker\' }}\n    />\n  </SpaceVertical>\n  <Divider />\n  <Heading as="h3">Number</Heading>\n  <Space>\n    <SpaceVertical>\n      <Heading as="h5">slider</Heading>\n      <Filter\n        name="Age"\n        expressionType="number"\n        expression="55"\n        config={{ max: 120, min: 0, type: \'slider\' }}\n      />\n    </SpaceVertical>\n    <SpaceVertical>\n      <Heading as="h5">range_slider</Heading>\n      <Filter\n        name="Age"\n        expressionType="number"\n        expression="[0,45]"\n        config={{ max: 120, min: 0, type: \'range_slider\' }}\n      />\n    </SpaceVertical>\n  </Space>\n</SpaceVertical>\n')))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Docs/Components/Filters/Filter",component:_looker_filter_components__WEBPACK_IMPORTED_MODULE_3__.w,includeStories:["__page"]};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.kt)(MDXContent,null)};const __WEBPACK_DEFAULT_EXPORT__=componentMeta,__namedExportsOrder=["__page"]}}]);