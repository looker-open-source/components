"use strict";(globalThis.webpackChunk_looker_storybook=globalThis.webpackChunk_looker_storybook||[]).push([[8957],{"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/LocationFilter.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_LocationFilter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/LocationFilter.tsx");const DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LocationFilter__WEBPACK_IMPORTED_MODULE_1__.a,args);DefaultStory.args={filterType:"location",item:{id:"1",type:"anyvalue",is:!1},showAdd:!1,showName:!0,showRemove:!1,showOperator:!1,showMatchesAdvanced:!1};const __WEBPACK_DEFAULT_EXPORT__={title:"Filters / Location Filter",component:_LocationFilter__WEBPACK_IMPORTED_MODULE_1__.a};DefaultStory.parameters={storySource:{source:"(\n  args\n) => <LocationFilter {...args} />"},...DefaultStory.parameters};const __namedExportsOrder=["DefaultStory"]},"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/LocationFilter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>LocationFilter});var Flex=__webpack_require__("../components/src/Layout/Flex/Flex.tsx"),Box=__webpack_require__("../components/src/Layout/Box/Box.tsx"),react=__webpack_require__("../../node_modules/react/index.js"),GroupSelect=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/GroupSelect/GroupSelect.tsx"),MatchesAdvanced=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/MatchesAdvanced/MatchesAdvanced.tsx"),UserAttributes=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/UserAttributes/UserAttributes.tsx"),pick=__webpack_require__("../../node_modules/lodash/pick.js"),pick_default=__webpack_require__.n(pick),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");var GroupInput=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/components/GroupInput/GroupInput.tsx");const LocationExact=({item,onChange,latString="LATITUDE",lonString="LONGITUDE",lat="lat",lon="lon",placement="right"})=>react.createElement(Flex.k,{flexDirection:"row"},react.createElement(GroupInput.w,{before:react.createElement(Prefix,null,latString),value:String(item.lat||""),type:"number",onChange:event=>{Number(event.currentTarget.value)<=90&&Number(event.currentTarget.value)>=-90&&onChange(item.id,{[lat]:event.currentTarget.value})},placement:"middle",minWidth:latString.length/2+5.5+"em"}),react.createElement(GroupInput.w,{before:react.createElement(Prefix,null,lonString),value:String(item.lon||""),type:"number",onChange:event=>{Number(event.currentTarget.value)<=180&&Number(event.currentTarget.value)>=-180&&onChange(item.id,{[lon]:event.currentTarget.value})},placement,minWidth:lonString.length/2+5.5+"em"})),Prefix=styled_components_browser_esm.ZP.span.withConfig({displayName:"LocationExact__Prefix",componentId:"sc-cjs9jc-0"})(["color:",";font-size:",";white-space:nowrap;"],(({theme:{colors}})=>colors.text1),(({theme:{fontSizes}})=>fontSizes.xsmall));try{LocationExact.displayName="LocationExact",LocationExact.__docgenInfo={description:"",displayName:"LocationExact",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"ExactLocationFilterItem"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(id: string, value: any) => void"}},latString:{defaultValue:{value:"LATITUDE"},description:"",name:"latString",required:!1,type:{name:"string"}},lonString:{defaultValue:{value:"LONGITUDE"},description:"",name:"lonString",required:!1,type:{name:"string"}},lat:{defaultValue:{value:"lat"},description:"",name:"lat",required:!1,type:{name:"string"}},lon:{defaultValue:{value:"lon"},description:"",name:"lon",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"right"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"middle"'},{value:'"right"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationExact/LocationExact.tsx#LocationExact"]={docgenInfo:LocationExact.__docgenInfo,name:"LocationExact",path:"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationExact/LocationExact.tsx#LocationExact"})}catch(__react_docgen_typescript_loader_error){}const LocationBox=({item,onChange})=>react.createElement(Flex.k,{flexDirection:"row"},react.createElement(LocationExact,{item:pick_default()(item,["id","is","lat","lon","type"]),onChange,placement:"middle",latString:"FROM LATITUDE"}),react.createElement(LocationExact,{lat:"lat1",lon:"lon1",item:{id:item.id,is:item.is,lat:item.lat1,lon:item.lon1,type:item.type},onChange,latString:"TO LATITUDE"}));try{LocationBox.displayName="LocationBox",LocationBox.__docgenInfo={description:"",displayName:"LocationBox",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(id: string, value: any) => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"BoxFilterItem"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationBox/LocationBox.tsx#LocationBox"]={docgenInfo:LocationBox.__docgenInfo,name:"LocationBox",path:"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationBox/LocationBox.tsx#LocationBox"})}catch(__react_docgen_typescript_loader_error){}var useTranslation=__webpack_require__("../filter-components/src/utils/useTranslation.ts"),get_user_attribute_option=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/utils/get_user_attribute_option.ts");const LocationCircle=({item,onChange})=>{const unitOptions=(()=>{const{t}=(0,useTranslation.$)("get_location_filter_options");return[{value:"feet",label:t("feet")},{value:"kilometers",label:t("kilometers")},{value:"meters",label:t("meters")},{value:"miles",label:t("miles")}]})();return react.createElement(Flex.k,{flexDirection:"row"},react.createElement(GroupInput.w,{value:String(item.distance||""),type:"number",onChange:event=>{Number(event.currentTarget.value)>=0&&onChange?.(item.id,{distance:event.currentTarget.value,unit:item.unit||"miles"})},minWidth:"4.5em"}),react.createElement(GroupSelect.F,{placement:"middle",value:item.unit||"miles",options:unitOptions,onChange:value=>{onChange?.(item.id,{unit:value})}}),react.createElement(LocationExact,{item:pick_default()(item,["id","is","lat","lon","type"]),onChange,latString:"FROM LATITUDE"}))};try{LocationCircle.displayName="LocationCircle",LocationCircle.__docgenInfo={description:"",displayName:"LocationCircle",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(id: string, value: any) => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"CircleFilterItem"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationCircle/LocationCircle.tsx#LocationCircle"]={docgenInfo:LocationCircle.__docgenInfo,name:"LocationCircle",path:"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/components/LocationCircle/LocationCircle.tsx#LocationCircle"})}catch(__react_docgen_typescript_loader_error){}const Blank=()=>"",filterTypeToLocationMap={location:LocationExact,circle:LocationCircle,box:LocationBox,anyvalue:Blank,null:Blank,notnull:Blank,user_attribute:UserAttributes.v};var get_filter_options=__webpack_require__("../filter-components/src/Filter/components/AdvancedFilter/utils/get_filter_options.ts");const LocationFilter=({item,filterType,onChange,userAttributes,validationMessage,showMatchesAdvanced})=>{const locationFilterOptions=(()=>{const{t}=(0,useTranslation.$)("get_location_filter_options"),userAttributeOption=(0,get_user_attribute_option.Z)();return[{value:"location",label:t("Location")},{value:"circle",label:t("Circle")},{value:"box",label:t("Box")},{value:"anyvalue",label:t("is anywhere")},{value:"null",label:t("is null")},{value:"notnull",label:t("is not null")},userAttributeOption]})(),options=(0,get_filter_options.x)(locationFilterOptions,showMatchesAdvanced),FilterComponent=(type=item.type,filterTypeToLocationMap[type]||MatchesAdvanced.i);var type;return react.createElement(Flex.k,{flexDirection:"row",alignItems:"center"},react.createElement(Box.x,null,react.createElement(GroupSelect.F,{value:item.type,options,onChange:value=>onChange(item.id,{type:value}),validationType:validationMessage?.type,placement:["null","notnull","anyvalue"].includes(item.type)?void 0:"left"})),react.createElement(FilterComponent,{item,onChange,validationMessage,userAttributes,filterType}))};try{LocationFilter.displayName="LocationFilter",LocationFilter.__docgenInfo={description:"",displayName:"LocationFilter",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:'FilterModel<"circle" | "location" | "null" | "user_attribute" | "box" | "anyvalue" | "notnull">'}},showAdd:{defaultValue:null,description:"",name:"showAdd",required:!0,type:{name:"boolean"}},showName:{defaultValue:null,description:"",name:"showName",required:!0,type:{name:"boolean"}},showRemove:{defaultValue:null,description:"",name:"showRemove",required:!0,type:{name:"boolean"}},showOperator:{defaultValue:null,description:"true = render with text\nfalse = don't render\n'spacer' = render as empty space",name:"showOperator",required:!0,type:{name:'boolean | "spacer"'}},onAdd:{defaultValue:null,description:"",name:"onAdd",required:!0,type:{name:"(item: FilterModel<string>, keepValue?: boolean | undefined) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(id: string) => void"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},filterType:{defaultValue:null,description:"",name:"filterType",required:!0,type:{name:"enum",value:[{value:'"string"'},{value:'"number"'},{value:'"location"'},{value:'"date"'},{value:'"date_time"'},{value:'"tier"'}]}},isLinked:{defaultValue:null,description:"",name:"isLinked",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},suggestions:{defaultValue:null,description:"",name:"suggestions",required:!1,type:{name:"string[]"}},enumerations:{defaultValue:null,description:"",name:"enumerations",required:!1,type:{name:"Option[] | null"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"ILookmlModelExploreField | null"}},userAttributes:{defaultValue:null,description:"",name:"userAttributes",required:!1,type:{name:"UserAttributeWithValue[]"}},validationMessage:{defaultValue:null,description:"",name:"validationMessage",required:!1,type:{name:"ValidationMessageProps"}},onInputChange:{defaultValue:null,description:"",name:"onInputChange",required:!1,type:{name:"((value: string) => void)"}},showMatchesAdvanced:{defaultValue:null,description:"",name:"showMatchesAdvanced",required:!0,type:{name:"boolean"}},anyOption:{defaultValue:null,description:"",name:"anyOption",required:!1,type:{name:"boolean"}},allowMultipleOptions:{defaultValue:null,description:"",name:"allowMultipleOptions",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/LocationFilter.tsx#LocationFilter"]={docgenInfo:LocationFilter.__docgenInfo,name:"LocationFilter",path:"../filter-components/src/Filter/components/AdvancedFilter/components/LocationFilter/LocationFilter.tsx#LocationFilter"})}catch(__react_docgen_typescript_loader_error){}}}]);